<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Employee Portal</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
          Cantarell, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh; /* ‚ùå remove quotes */
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .container {
        width: 100%;
        max-width: 450px;
        padding: 20px;
        display: flex;
        justify-content: center;
      }

      .login-card {
        width: 100%;
        background: white;
        border-radius: 16px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: slideIn 0.5s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .logo {
        text-align: center;
        margin-bottom: 30px;
      }

      .logo h1 {
        color: #1e40af;
        font-size: 28px;
        margin-bottom: 8px;
      }

      .logo p {
        color: #6b7280;
        font-size: 14px;
      }

      .badge {
        background: #dbeafe;
        color: #1e40af;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 20px;
      }

      .form-group {
        margin-bottom: 24px;
      }

      label {
        display: block;
        color: #374151;
        font-weight: 600;
        margin-bottom: 8px;
        font-size: 14px;
      }

      input {
        width: 100%;
        padding: 14px;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s;
      }

      input:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      input.error {
        border-color: #ef4444;
      }

      .error-message {
        color: #ef4444;
        font-size: 12px;
        margin-top: 6px;
        display: none;
      }

      .error-message.show {
        display: block;
      }

      .btn {
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
      }

      .btn:active {
        transform: translateY(0);
      }

      .footer-text {
        text-align: center;
        margin-top: 20px;
        color: #6b7280;
        font-size: 12px;
      }

      /* Hacked Screen Styles */
      .hacked-screen {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: #000;
        z-index: 9999;
        overflow: hidden;
      }

      .hacked-screen.active {
        display: block;
        animation: glitchBg 0.3s infinite;
      }

      @keyframes glitchBg {
        0%,
        100% {
          background: #000;
        }
        25% {
          background: #0a0a0a;
        }
        50% {
          background: #1a0000;
        }
        75% {
          background: #000a00;
        }
      }

      .hacked-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        width: 90%;
        max-width: 800px;
      }

      .skull {
        font-size: 120px;
        margin-bottom: 20px;
        animation: pulse 1s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      .hacked-title {
        color: #dc2626;
        font-size: 72px;
        font-weight: bold;
        margin-bottom: 20px;
        animation: glitch 1s infinite;
        text-shadow:
          3px 3px 0 #ff0000,
          -3px -3px 0 #00ff00,
          3px -3px 0 #0000ff;
      }

      @keyframes glitch {
        0% {
          transform: translate(0);
        }
        20% {
          transform: translate(-5px, 5px);
        }
        40% {
          transform: translate(-5px, -5px);
        }
        60% {
          transform: translate(5px, 5px);
        }
        80% {
          transform: translate(5px, -5px);
        }
        100% {
          transform: translate(0);
        }
      }

      .hacked-message {
        color: #ef4444;
        font-size: 24px;
        margin-bottom: 30px;
        animation: blink 1s infinite;
      }

      @keyframes blink {
        0%,
        50%,
        100% {
          opacity: 1;
        }
        25%,
        75% {
          opacity: 0.5;
        }
      }

      .warning-box {
        background: rgba(220, 38, 38, 0.1);
        border: 2px solid #dc2626;
        border-radius: 12px;
        padding: 30px;
        margin-top: 40px;
        animation: fadeIn 2s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .warning-box h2 {
        color: #fbbf24;
        font-size: 28px;
        margin-bottom: 15px;
      }

      .warning-box p {
        color: #fff;
        font-size: 16px;
        line-height: 1.6;
        margin-bottom: 10px;
      }

      .warning-box ul {
        text-align: left;
        color: #fff;
        margin: 20px auto;
        max-width: 600px;
        list-style-position: inside;
      }

      .warning-box li {
        margin-bottom: 10px;
        font-size: 14px;
      }

      .close-btn {
        margin-top: 30px;
        padding: 12px 40px;
        background: #dc2626;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }

      .close-btn:hover {
        background: #b91c1c;
      }

      .matrix {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.1;
        pointer-events: none;
      }

      @media (max-width: 768px) {
        .hacked-title {
          font-size: 48px;
        }
        .hacked-message {
          font-size: 18px;
        }
        .skull {
          font-size: 80px;
        }
      }
      .alert {
        height: 100vh;
        width: 100vw;
        background: black;
        color: #00ff88;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-family: monospace;
        text-align: center;
      }

      .alert .msg {
        font-size: 28px;
        margin: 10px 0;
        opacity: 0;
        animation: reveal 0.8s forwards;
      }

      #line2 {
        animation-delay: 0.5s;
      }
      #line3 {
        animation-delay: 1.5s;
      }
      #line4 {
        animation-delay: 2.5s;
      }
      #line5 {
        animation-delay: 3.5s;
      }
      #line6 {
        animation-delay: 4.5s;
      }
      #line7 {
        animation-delay: 5.5s;
        color: #fff;
      }

      @keyframes reveal {
        to {
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <!-- Login Section -->
    <div class="container" id="loginSection">
      <div class="login-card">
        <div class="logo">
          <h1>üåê Employee Portal</h1>
          <!-- <p>Secure Access System</p> -->
        </div>
        <!-- <div style="text-align: center;">
                <span class="badge">üîí International Internet Day - Security Check</span>
            </div> -->
        <form id="loginForm">
          <div class="form-group">
            <label for="mobile">Employee Mobile Number</label>
            <input
              type="tel"
              id="mobile"
              placeholder="Enter 10-digit mobile number"
              maxlength="10"
              autocomplete="off"
            />
            <div class="error-message" id="errorMessage">
              Please enter a valid 10-digit mobile number
            </div>
          </div>
          <button type="submit" class="btn">Send OTP</button>
        </form>
        <!-- <p class="footer-text">
                Celebrating International Internet Day üéâ<br>
                Stay safe online!
            </p> -->
      </div>
    </div>

    <!-- Hacked Screen -->
    <div class="hacked-screen" id="hackedScreen">
      <canvas class="matrix" id="matrixCanvas"></canvas>
      <div class="hacked-content">
        <div class="skull">‚ò†Ô∏è</div>
        <h1 class="hacked-title">SYSTEM HACKED!</h1>
        <p class="hacked-message">‚ö†Ô∏è YOUR DATA HAS BEEN COMPROMISED ‚ö†Ô∏è</p>
        <p class="hacked-message">All your files are being encrypted...</p>
      </div>
    </div>

    <div class="alert" id="alertScreen" style="display: none">
      <div class="msg" id="line2">Relax. This was just a test.</div>
      <div class="msg" id="line3">Next time, it might not be.</div>
      <div class="msg" id="line4">Think before you click.</div>
      <div class="msg" id="line5">One careless click is all it takes.</div>
      <div class="msg" id="line6"><br />Happy Safer Internet Day!</div>
      <div class="msg" id="line7">
        An awareness initiative by the
        <span style="color: #667eea; font-weight: 700">Creative Team</span
        ><br />
        in collaboration with the
        <span style="color: #fbbf24; font-weight: 700">Technical Team</span
        ><br />
        <strong>Team Interval</strong>
      </div>
    </div>

    <script>
      let audioContext = null;
      let oscillator = null;
      let alarmTimeout = null;

      // Form validation and submission
      const loginForm = document.getElementById("loginForm");
      const mobileInput = document.getElementById("mobile");
      const errorMessage = document.getElementById("errorMessage");
      const loginSection = document.getElementById("loginSection");
      const hackedScreen = document.getElementById("hackedScreen");

      // Allow only numbers
      mobileInput.addEventListener("input", function (e) {
        this.value = this.value.replace(/[^0-9]/g, "");
      });

      loginForm.addEventListener("submit", function (e) {
        e.preventDefault();

        const mobile = mobileInput.value.trim();

        // Validate 10-digit mobile number
        if (mobile.length !== 10 || !/^\d{10}$/.test(mobile)) {
          mobileInput.classList.add("error");
          errorMessage.classList.add("show");
          return;
        }

        // Clear error
        mobileInput.classList.remove("error");
        errorMessage.classList.remove("show");

        // Trigger hacked screen
        showHackedScreen();
      });

      function stopAlarmSound() {
        if (alarmTimeout) {
          clearInterval(alarmTimeout);
          alarmTimeout = null;
        }

        if (oscillator) {
          oscillator.stop();
          oscillator.disconnect();
          oscillator = null;
        }

        if (audioContext) {
          audioContext.close();
          audioContext = null;
        }
      }

      async function activateLock() {
        // await document.documentElement.requestFullscreen();

        if (navigator.keyboard?.lock) {
          try {
            await navigator.keyboard.lock([
              "Escape",
              "Tab",
              "MetaLeft",
              "MetaRight",
              "AltLeft",
              "AltRight",
              "ControlLeft",
              "ControlRight",
              "F1",
              "F2",
              "F3",
              "F4",
              "F5",
              "F6",
              "F7",
              "F8",
              "F9",
              "F10",
              "F11",
              "F12",
            ]);
            console.log("Keyboard locked");
          } catch (e) {
            /* ========== Key Block ========== */
            document.addEventListener("keydown", (e) => {
              e.preventDefault();
              e.stopPropagation();
            });

            document.addEventListener("keyup", (e) => {
              e.preventDefault();
              e.stopPropagation();
            });

            window.oncontextmenu = () => false;

            console.log("Keyboard lock failed");
          }
        }
      }

      function showHackedScreen() {
        activateLock();
        loginSection.style.display = "none";
        hackedScreen.classList.add("active");

        const requestFs =
          hackedScreen.requestFullscreen ||
          hackedScreen.webkitRequestFullscreen ||
          hackedScreen.msRequestFullscreen;

        if (requestFs) {
          requestFs.call(hackedScreen);
        }

        playAlarmSound();
        startMatrix();

        // ‚è± Change content after 3 seconds
        setTimeout(showAlertScreen, 3000);

        // ‚è± Exit fullscreen after 12 seconds
        setTimeout(exitFullscreenSafely, 12000);
      }

      function showAlertScreen() {
        hackedScreen.classList.remove("active");
        hackedScreen.style.display = "none";

        document.getElementById("alertScreen").style.display = "flex";
      }

      function exitFullscreenSafely() {
        stopAlarmSound(); // üîá STOP SOUND

        if (document.fullscreenElement) {
          document.exitFullscreen();
        } else if (document.webkitFullscreenElement) {
          document.webkitExitFullscreen();
        } else if (document.msFullscreenElement) {
          document.msExitFullscreen();
        }
      }

      function playAlarmSound() {
        if (audioContext) return; // prevent multiple instances

        audioContext = new (window.AudioContext || window.webkitAudioContext)();

        oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.type = "square";
        oscillator.frequency.value = 800;
        gainNode.gain.value = 0.3;

        oscillator.start();

        // Frequency pattern
        let toggle = true;
        alarmTimeout = setInterval(() => {
          if (!hackedScreen.classList.contains("active")) return;
          oscillator.frequency.setValueAtTime(
            toggle ? 800 : 600,
            audioContext.currentTime,
          );
          toggle = !toggle;
        }, 200);
      }

      // Matrix rain effect
      function startMatrix() {
        const canvas = document.getElementById("matrixCanvas");
        const ctx = canvas.getContext("2d");

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const chars =
          "01„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É≤„É≥";
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);

        function draw() {
          ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
          ctx.fillRect(0, 0, canvas.width, canvas.height);

          ctx.fillStyle = "#0f0";
          ctx.font = fontSize + "px monospace";

          for (let i = 0; i < drops.length; i++) {
            const text = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);

            if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
              drops[i] = 0;
            }
            drops[i]++;
          }
        }

        const matrixInterval = setInterval(() => {
          if (!hackedScreen.classList.contains("active")) {
            clearInterval(matrixInterval);
            return;
          }
          draw();
        }, 33);
      }

      // Handle window resize
      window.addEventListener("resize", function () {
        const canvas = document.getElementById("matrixCanvas");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });
    </script>
  </body>
</html>
